<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Leg Training</title>

<style>
body{
  font-family:system-ui;
  background:#fff;
  color:#000;
  margin:28px
}

h1{color:#16a34a} /* green */

.card{
  max-width:520px;
  border:1px solid #dcfce7;
  border-radius:16px;
  padding:20px;
}

.row{
  display:flex;
  justify-content:space-between;
  margin:6px 0
}

.label{
  color:#16a34a;
  font-weight:600
}

.exercise{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px dashed #dcfce7
}

.qty{
  color:#16a34a;
  font-weight:700
}

button{
  margin-top:12px;
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  font-weight:700;
  cursor:pointer
}

.primary{
  background:#16a34a;
  color:#fff
}

.reset{
  background:#f0fdf4;
  color:#16a34a;
  border:1px solid #bbf7d0
}

button:disabled{opacity:.4}
</style>
</head>

<body>

<h1>Leg Training</h1>

<div class="card">
  <div class="row"><div class="label">Day</div><div id="day"></div></div>
  <div class="row"><div class="label">Difficulty</div><div id="diff"></div></div>
  <div class="row"><div class="label">Next session</div><div id="time"></div></div>

  <div id="training"></div>

  <button id="btn" class="primary">Selesai Hari Ini</button>
  <button id="resetBtn" class="reset">Reset Progress</button>
</div>

<script>
var data = JSON.parse(localStorage.getItem("legs")) || {
  day:1,
  deadline:0
};

function save(){
  localStorage.setItem("legs",JSON.stringify(data));
}

function difficulty(){
  return Math.floor((data.day-1)/3)+1;
}

function formatTime(s){
  var h=Math.floor(s/3600);
  var m=Math.floor((s%3600)/60);
  var d=Math.floor(s%60);
  return h+"j "+m+"m "+d+"d";
}

function finishToday(){
  var now=Math.floor(Date.now()/1000);
  if(now < data.deadline) return;
  data.deadline = now + 12*3600;
  data.day = Math.min(data.day + 1, 360);
  save();
  updateUI();
}

function resetProgress(){
  if(!confirm("Reset all leg training progress?")) return;
  data.day = 1;
  data.deadline = 0;
  save();
  updateUI();
}

function updateUI(){
  var now=Math.floor(Date.now()/1000);
  var remain=Math.max(0,data.deadline-now);
  var diff=difficulty();

  day.textContent = data.day + " / 360";
  document.getElementById("diff").textContent = diff;
  time.textContent = remain ? formatTime(remain) : "Ready";
  btn.disabled = remain>0;

  training.innerHTML = `
    <div class="exercise"><div>Squats</div><div class="qty">${20+diff*2} reps</div></div>
    <div class="exercise"><div>Lunges</div><div class="qty">${14+diff*2} reps</div></div>
    <div class="exercise"><div>Glute bridge</div><div class="qty">${16+diff*2} reps</div></div>
    <div class="exercise"><div>Calf raises</div><div class="qty">${22+diff*2} reps</div></div>
  `;
}

btn.onclick = finishToday;
resetBtn.onclick = resetProgress;

setInterval(updateUI,1000);
updateUI();
</script>

</body>
</html>
